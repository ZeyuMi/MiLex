file driver.c
1 : include
3 : <
1 : stdio
2 : .
1 : h
3 : >
1 : include
3 : <
1 : string
2 : .
1 : h
3 : >
1 : include
1 : token
2 : .
1 : h
1 : include
1 : mem
2 : .
1 : h
1 : int
1 : main
1 : int
1 : argc
1 : char
6 : *
1 : argv
1 : char
6 : *
1 : outputfilename
4 : =
1 : NULL
1 : char
6 : *
1 : inputfilenames
2 : 10
1 : int
1 : inputnum
4 : =
2 : 0
1 : if
1 : argc
3 : ==
2 : 1
1 : fprintf
1 : stderr
1 : ERROR
1 : not
1 : enough
1 : parameters
1 : n
1 : else
1 : while
6 : --
1 : argc
3 : >
2 : 0
1 : char
6 : *
1 : param
4 : =
6 : *
6 : ++
1 : argv
1 : if
1 : strcmp
1 : param
6 : -
1 : o
3 : ==
2 : 0
1 : argc
6 : --
1 : outputfilename
4 : =
1 : alloc
1 : strlen
6 : *
6 : ++
1 : argv
6 : +
2 : 1
1 : strcpy
1 : outputfilename
6 : *
1 : argv
1 : else
6 : *
1 : inputfilenames
6 : +
1 : inputnum
4 : =
1 : alloc
1 : strlen
1 : param
6 : +
2 : 1
1 : strcpy
6 : *
1 : inputfilenames
6 : +
1 : inputnum
1 : param
1 : inputnum
6 : ++
1 : FILE
6 : *
1 : outputfile
4 : =
1 : NULL
1 : if
1 : outputfilename
3 : ==
1 : NULL
1 : outputfile
4 : =
1 : stdout
1 : else
1 : outputfile
4 : =
1 : fopen
1 : outputfilename
1 : w
1 : int
1 : i
4 : =
2 : 0
1 : while
1 : i
3 : <
1 : inputnum
1 : char
6 : *
1 : filename
4 : =
6 : *
1 : inputfilenames
6 : +
1 : i
1 : FILE
6 : *
1 : file
4 : =
1 : fopen
1 : filename
1 : r
1 : int
1 : tokenname
1 : fprintf
1 : outputfile
1 : file
6 : %
1 : s
1 : n
1 : filename
1 : setIn
1 : file
1 : while
1 : tokenname
4 : =
1 : getToken
4 : =
1 : EOF
1 : fprintf
1 : outputfile
6 : %
1 : d
6 : %
1 : s
1 : n
1 : tokenname
1 : token
1 : unsetIn
1 : fclose
1 : file
1 : afree
1 : filename
1 : i
6 : ++
1 : afree
1 : outputfilename
1 : fclose
1 : outputfile
1 : return
2 : 0
file mem.c
1 : include
1 : mem
2 : .
1 : h
1 : static
1 : char
1 : allocbuf
1 : ALLOCSIZE
1 : static
1 : char
6 : *
1 : allocp
4 : =
1 : allocbuf
1 : char
6 : *
1 : alloc
1 : int
1 : n
1 : if
1 : allocbuf
6 : +
1 : ALLOCSIZE
6 : -
1 : allocp
3 : >=
1 : n
1 : allocp
6 : +=
1 : n
1 : return
1 : allocp
6 : -
1 : n
1 : else
1 : return
2 : 0
1 : void
1 : afree
1 : char
6 : *
1 : p
1 : if
1 : p
3 : >
1 : allocbuf
1 : p
3 : <
1 : allocbuf
6 : +
1 : ALLOCSIZE
1 : allocp
4 : =
1 : p
file mem.h
1 : define
1 : ALLOCSIZE
2 : 10000
1 : char
6 : *
1 : alloc
1 : int
1 : void
1 : afree
1 : char
6 : *
